---
title: 常用的部署脚本
date: 2025-12-01 20:10:14
tags:
  - Linux
---

## Java 部署脚本

```bash
#!/bin/bash

# 配置项
JAR_NAME="your-app.jar"
APP_NAME="your-app"

# 查找并杀掉旧进程
PID=$(ps -ef | grep "$JAR_NAME" | grep -v grep | awk '{print $2}')

if [ -n "$PID" ]; then
    echo "发现运行中的进程 PID: $PID，正在停止..."
    kill -9 $PID
    sleep 2
    echo "进程已停止"
else
    echo "未发现运行中的进程"
fi

# 启动新的 Java 程序
echo "正在启动 $JAR_NAME..."
nohup java -jar $JAR_NAME > $APP_NAME.log 2>&1 &

sleep 2

# 验证启动
NEW_PID=$(ps -ef | grep "$JAR_NAME" | grep -v grep | awk '{print $2}')
if [ -n "$NEW_PID" ]; then
    echo "启动成功，PID: $NEW_PID"
else
    echo "启动失败，请检查日志"
    exit 1
fi
```

未完待续...
