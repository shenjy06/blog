<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Linux 命令学习方法Linux 命令都可以通过 Linux 提供的手册自己学习，一般来讲有三种方式查看命令的用法，如下： 就拿最常用的 ls 命令来举例子吧 第一种： 1ls --help  第二种： 1info ls  第三种： 1man ls  大家可以使用 命令 --help, info + 命令, man + 命令 三种方式来学习新的命令，大家也可以使用 The Linux man-p">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux常用命令">
<meta property="og:url" content="https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/index.html">
<meta property="og:site_name" content="Mark&#39;s Blog">
<meta property="og:description" content="Linux 命令学习方法Linux 命令都可以通过 Linux 提供的手册自己学习，一般来讲有三种方式查看命令的用法，如下： 就拿最常用的 ls 命令来举例子吧 第一种： 1ls --help  第二种： 1info ls  第三种： 1man ls  大家可以使用 命令 --help, info + 命令, man + 命令 三种方式来学习新的命令，大家也可以使用 The Linux man-p">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-12-25T09:04:24.000Z">
<meta property="article:modified_time" content="2025-10-31T06:59:20.762Z">
<meta property="article:author" content="Mark Shen">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="network command">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/blog/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/blog/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Linux常用命令</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/blog/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/blog/true" title="Mark&#39;s Blog" type="application/atom+xml" />
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 5.4.2"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/blog/">首页</a></li><!--
     --><!--
       --><li><a href="/blog/about/">关于</a></li><!--
     --><!--
       --><li><a href="/blog/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/blog/categories/">分类</a></li><!--
     --><!--
       --><li><a href="/blog/search/">搜索</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/shenjy06">项目</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="上一篇" href="/blog/2023/01/01/2022%E5%B9%B4%E4%BF%9E%E8%80%81%E5%B8%88%E8%B7%A8%E5%B9%B4%E7%9B%B4%E6%92%AD%E5%86%85%E5%AE%B9%E7%AC%94%E8%AE%B0/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="下一篇" href="/blog/2022/12/16/Jenkins%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&text=Linux常用命令"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&title=Linux常用命令"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&is_video=false&description=Linux常用命令"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Linux常用命令&body=Check out this article: https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&title=Linux常用命令"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&title=Linux常用命令"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&title=Linux常用命令"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&title=Linux常用命令"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&name=Linux常用命令&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&t=Linux常用命令"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-%E5%91%BD%E4%BB%A4%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">Linux 命令学习方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.</span> <span class="toc-text">Linux 常用网络命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ifconfig"><span class="toc-number">1.1.1.</span> <span class="toc-text">ifconfig</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ifup"><span class="toc-number">1.1.2.</span> <span class="toc-text">ifup</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ifdown"><span class="toc-number">1.1.3.</span> <span class="toc-text">ifdown</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ip"><span class="toc-number">1.1.4.</span> <span class="toc-text">ip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#route"><span class="toc-number">1.1.5.</span> <span class="toc-text">route</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ip-route"><span class="toc-number">1.1.6.</span> <span class="toc-text">ip route</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ping"><span class="toc-number">1.1.7.</span> <span class="toc-text">ping</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#traceroute"><span class="toc-number">1.1.8.</span> <span class="toc-text">traceroute</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#netstat"><span class="toc-number">1.1.9.</span> <span class="toc-text">netstat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nslookup"><span class="toc-number">1.1.10.</span> <span class="toc-text">nslookup</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E7%9B%B8%E5%85%B3"><span class="toc-number">1.2.</span> <span class="toc-text">防火墙相关</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#firewall-cmd"><span class="toc-number">1.2.1.</span> <span class="toc-text">firewall-cmd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#iptables"><span class="toc-number">1.2.2.</span> <span class="toc-text">iptables</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.</span> <span class="toc-text">查看系统信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%81-%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.</span> <span class="toc-text">📁 文件和目录操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%84-%E6%96%87%E4%BB%B6%E6%9F%A5%E7%9C%8B%E5%92%8C%E7%BC%96%E8%BE%91"><span class="toc-number">1.5.</span> <span class="toc-text">📄 文件查看和编辑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%90-%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">1.6.</span> <span class="toc-text">🔐 权限管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%A4-%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86"><span class="toc-number">1.7.</span> <span class="toc-text">👤 用户和组管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%BB-%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E5%92%8C%E7%9B%91%E6%8E%A7"><span class="toc-number">1.8.</span> <span class="toc-text">💻 系统信息和监控</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%84-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-number">1.9.</span> <span class="toc-text">🔄 进程管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8C%90-%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3"><span class="toc-number">1.10.</span> <span class="toc-text">🌐 网络相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%A6-%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number">1.11.</span> <span class="toc-text">📦 软件包管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%97%9C%EF%B8%8F-%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B"><span class="toc-number">1.12.</span> <span class="toc-text">🗜️ 压缩和解压</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%8D-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="toc-number">1.13.</span> <span class="toc-text">🔍 系统管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%9D-%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.14.</span> <span class="toc-text">📝 其他常用命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%8A-%E7%BB%BC%E5%90%88%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7"><span class="toc-number">2.</span> <span class="toc-text">📊 综合性能监控</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#top-htop"><span class="toc-number">2.1.</span> <span class="toc-text">top &#x2F; htop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#atop"><span class="toc-number">2.2.</span> <span class="toc-text">atop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#glances"><span class="toc-number">2.3.</span> <span class="toc-text">glances</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%92%BB-CPU%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">3.</span> <span class="toc-text">💻 CPU性能分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mpstat"><span class="toc-number">3.1.</span> <span class="toc-text">mpstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vmstat"><span class="toc-number">3.2.</span> <span class="toc-text">vmstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sar"><span class="toc-number">3.3.</span> <span class="toc-text">sar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#uptime"><span class="toc-number">3.4.</span> <span class="toc-text">uptime</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pidstat"><span class="toc-number">3.5.</span> <span class="toc-text">pidstat</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%A7%A0-%E5%86%85%E5%AD%98%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">4.</span> <span class="toc-text">🧠 内存性能分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#free"><span class="toc-number">4.1.</span> <span class="toc-text">free</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vmstat-1"><span class="toc-number">4.2.</span> <span class="toc-text">vmstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sar-1"><span class="toc-number">4.3.</span> <span class="toc-text">sar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#slabtop"><span class="toc-number">4.4.</span> <span class="toc-text">slabtop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pmap"><span class="toc-number">4.5.</span> <span class="toc-text">pmap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#smem"><span class="toc-number">4.6.</span> <span class="toc-text">smem</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%92%BE-%E7%A3%81%E7%9B%98I-O%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">5.</span> <span class="toc-text">💾 磁盘I&#x2F;O性能分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#iostat"><span class="toc-number">5.1.</span> <span class="toc-text">iostat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iotop"><span class="toc-number">5.2.</span> <span class="toc-text">iotop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#df"><span class="toc-number">5.3.</span> <span class="toc-text">df</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#du"><span class="toc-number">5.4.</span> <span class="toc-text">du</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lsof"><span class="toc-number">5.5.</span> <span class="toc-text">lsof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fio"><span class="toc-number">5.6.</span> <span class="toc-text">fio</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%90-%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">6.</span> <span class="toc-text">🌐 网络性能分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#netstat-1"><span class="toc-number">6.1.</span> <span class="toc-text">netstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ss"><span class="toc-number">6.2.</span> <span class="toc-text">ss</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iftop"><span class="toc-number">6.3.</span> <span class="toc-text">iftop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iptraf-iptraf-ng"><span class="toc-number">6.4.</span> <span class="toc-text">iptraf &#x2F; iptraf-ng</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nethogs"><span class="toc-number">6.5.</span> <span class="toc-text">nethogs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcpdump"><span class="toc-number">6.6.</span> <span class="toc-text">tcpdump</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ping-mtr"><span class="toc-number">6.7.</span> <span class="toc-text">ping &#x2F; mtr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ethtool"><span class="toc-number">6.8.</span> <span class="toc-text">ethtool</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sar-2"><span class="toc-number">6.9.</span> <span class="toc-text">sar</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%8D-%E8%BF%9B%E7%A8%8B%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">7.</span> <span class="toc-text">🔍 进程性能分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ps"><span class="toc-number">7.1.</span> <span class="toc-text">ps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pstree"><span class="toc-number">7.2.</span> <span class="toc-text">pstree</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pidstat-1"><span class="toc-number">7.3.</span> <span class="toc-text">pidstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#strace"><span class="toc-number">7.4.</span> <span class="toc-text">strace</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ltrace"><span class="toc-number">7.5.</span> <span class="toc-text">ltrace</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#perf"><span class="toc-number">7.6.</span> <span class="toc-text">perf</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A5-%E7%81%AB%E7%84%B0%E5%9B%BE%E5%92%8C%E9%AB%98%E7%BA%A7%E5%88%86%E6%9E%90"><span class="toc-number">8.</span> <span class="toc-text">🔥 火焰图和高级分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#perf-FlameGraph"><span class="toc-number">8.1.</span> <span class="toc-text">perf + FlameGraph</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bpftrace-bcc-tools"><span class="toc-number">8.2.</span> <span class="toc-text">bpftrace &#x2F; bcc-tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%88-%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97%E5%92%8C%E8%AF%8A%E6%96%AD"><span class="toc-number">9.</span> <span class="toc-text">📈 系统日志和诊断</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#dmesg"><span class="toc-number">9.1.</span> <span class="toc-text">dmesg</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#journalctl"><span class="toc-number">9.2.</span> <span class="toc-text">journalctl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sysstat%E5%8C%85"><span class="toc-number">9.3.</span> <span class="toc-text">sysstat包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%9B%A0%EF%B8%8F-%E4%B8%93%E9%A1%B9%E6%80%A7%E8%83%BD%E5%B7%A5%E5%85%B7"><span class="toc-number">10.</span> <span class="toc-text">🛠️ 专项性能工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CPU%E7%9B%B8%E5%85%B3"><span class="toc-number">10.1.</span> <span class="toc-text">CPU相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%9B%B8%E5%85%B3"><span class="toc-number">10.2.</span> <span class="toc-text">内存相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%9B%B8%E5%85%B3"><span class="toc-number">10.3.</span> <span class="toc-text">磁盘相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3"><span class="toc-number">10.4.</span> <span class="toc-text">网络相关</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%92%A1-%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E8%AE%BA"><span class="toc-number">11.</span> <span class="toc-text">💡 性能分析方法论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#USE%E6%96%B9%E6%B3%95%EF%BC%88Utilization-Saturation-Errors%EF%BC%89"><span class="toc-number">11.1.</span> <span class="toc-text">USE方法（Utilization, Saturation, Errors）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95"><span class="toc-number">11.2.</span> <span class="toc-text">检查清单</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%A6-%E6%8E%A8%E8%8D%90%E5%AE%89%E8%A3%85%E7%9A%84%E5%B7%A5%E5%85%B7%E5%8C%85"><span class="toc-number">12.</span> <span class="toc-text">📦 推荐安装的工具包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8E%AF-%E5%BF%AB%E9%80%9F%E8%AF%8A%E6%96%AD%E6%B5%81%E7%A8%8B"><span class="toc-number">13.</span> <span class="toc-text">🎯 快速诊断流程</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Linux常用命令
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Mark Shen</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2022-12-25T09:04:24.000Z" itemprop="datePublished">2022-12-25</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/blog/categories/%E8%BF%90%E7%BB%B4/">运维</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/blog/tags/Linux/" rel="tag">Linux</a>, <a class="tag-link-link" href="/blog/tags/network-command/" rel="tag">network command</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="Linux-命令学习方法"><a href="#Linux-命令学习方法" class="headerlink" title="Linux 命令学习方法"></a>Linux 命令学习方法</h2><p>Linux 命令都可以通过 Linux 提供的手册自己学习，一般来讲有三种方式查看命令的用法，如下：</p>
<p>就拿最常用的 <code>ls</code> 命令来举例子吧</p>
<p>第一种：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>

<p>第二种：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>

<p>第三种：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>

<p>大家可以使用 <code>命令 --help</code>, <code>info + 命令</code>, <code>man + 命令</code> 三种方式来学习新的命令，大家也可以使用 <a target="_blank" rel="noopener" href="https://www.kernel.org/doc/man-pages/">The Linux man-pages project</a> 来查找对应的命令。说到这里，让我们来学习下 Linux 的常用网路命令吧</p>
<p>同时，大家还是可以学习下 <a target="_blank" rel="noopener" href="https://missing.csail.mit.edu/">The Missing Semester of Your CS Education</a> 这门课程，这门课程的讲解非常好，大家可以跟着学习下。中文版本是 <a target="_blank" rel="noopener" href="https://missing-semester-cn.github.io/">计算机教育中缺失的一课</a>，B 站上的视频是 <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1w7411477L/">计算机教育中缺失的一课</a>，大家可以跟着学习下。</p>
<h3 id="Linux-常用网络命令"><a href="#Linux-常用网络命令" class="headerlink" title="Linux 常用网络命令"></a>Linux 常用网络命令</h3><p>今天主要跟大家分享下 Linux 系统常用网络的命令:</p>
<ul>
<li>ifconfig</li>
<li>ifup</li>
<li>ifdown</li>
<li>ip</li>
<li>route</li>
<li>ip route</li>
<li>ping</li>
<li>traceroute</li>
<li>netstat</li>
<li>nslookup</li>
</ul>
<h4 id="ifconfig"><a href="#ifconfig" class="headerlink" title="ifconfig"></a>ifconfig</h4><p>查看所有网卡信息</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">shenjy@DESKTOP-MCQT724:~$ ifconfig -a</span><br><span class="line">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.3.2  netmask 255.255.255.0  broadcast 192.168.3.255</span><br><span class="line">        ether b4:b6:86:<span class="built_in">fc</span>:12:07  (Ethernet)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">eth1: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.56.1  netmask 255.255.255.0  broadcast 192.168.56.255</span><br><span class="line">        inet6 fe80::6715:52aa:2c80:112f  prefixlen 64  scopeid 0xfd&lt;compat,<span class="built_in">link</span>,site,host&gt;</span><br><span class="line">        ether 0a:00:27:00:00:03  (Ethernet)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">eth2: flags=64&lt;RUNNING&gt;  mtu 1500</span><br><span class="line">        inet 169.254.202.32  netmask 255.255.0.0</span><br><span class="line">        inet6 fe80::971b:12ac:b88c:961d  prefixlen 64  scopeid 0xfd&lt;compat,<span class="built_in">link</span>,site,host&gt;</span><br><span class="line">        ether 7c:76:35:43:62:9f  (Ethernet)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">eth3: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 172.22.96.1  netmask 255.255.240.0  broadcast 172.22.111.255</span><br><span class="line">        inet6 fe80::584c:ccd0:e077:634c  prefixlen 64  scopeid 0xfd&lt;compat,<span class="built_in">link</span>,site,host&gt;</span><br><span class="line">        ether 00:15:5d:41:e6:ee  (Ethernet)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 1500</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0xfe&lt;compat,<span class="built_in">link</span>,site,host&gt;</span><br><span class="line">        loop  (Local Loopback)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">wifi0: flags=64&lt;RUNNING&gt;  mtu 1500</span><br><span class="line">        inet 169.254.169.148  netmask 255.255.0.0</span><br><span class="line">        ether 7c:76:35:43:62:9b  (Ethernet)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">wifi1: flags=64&lt;RUNNING&gt;  mtu 1500</span><br><span class="line">        inet 169.254.112.16  netmask 255.255.0.0</span><br><span class="line">        ether 7c:76:35:43:62:9c  (Ethernet)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">wifi2: flags=64&lt;RUNNING&gt;  mtu 1500</span><br><span class="line">        inet 169.254.241.4  netmask 255.255.0.0</span><br><span class="line">        ether 7e:76:35:43:62:9b  (Ethernet)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></table></figure>

<p>其余，参数大家可以通过手册自行学习，这里要大家注意下 <a target="_blank" rel="noopener" href="https://www.cloudflare.com/learning/network-layer/what-is-mtu/">MTU</a> 这个关键参数，大家可以根据着篇 blog 进行学习。</p>
<p>大家也可以参照<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/ifconfig-command-in-linux-with-examples/">这篇 Blog</a> 学习这个命令。</p>
<h4 id="ifup"><a href="#ifup" class="headerlink" title="ifup"></a>ifup</h4><p>激活网络接口<code>eth0</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shenjy@DESKTOP-MCQT724:~$ ifup eth0</span><br></pre></td></tr></table></figure>

<p>大家也可以参照<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/ifup-command-in-linux-with-examples/">这篇 Blog</a> 学习这个命令。</p>
<h4 id="ifdown"><a href="#ifdown" class="headerlink" title="ifdown"></a>ifdown</h4><p>禁用网络端口<code>eth0</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shenjy@DESKTOP-MCQT724:~$ ifdown eth0</span><br></pre></td></tr></table></figure>

<p>大家也可以参照<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/ifdown-command-in-linux-with-examples/">这篇 Blog</a> 学习这个命令。</p>
<h4 id="ip"><a href="#ip" class="headerlink" title="ip"></a>ip</h4><p>查看机器所有网卡的 ip</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shenjy@DESKTOP-MCQT724:~$ ip a</span><br></pre></td></tr></table></figure>

<p>大家也可以参照<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/ip-command-in-linux-with-examples/">这篇 Blog</a> 学习这个命令。</p>
<h4 id="route"><a href="#route" class="headerlink" title="route"></a>route</h4><p>查看 Linux 内核路由表</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shenjy@DESKTOP-MCQT724:~$ route</span><br></pre></td></tr></table></figure>

<p>大家也可以参照<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/route-command-in-linux-with-examples/">这篇 Blog</a> 学习这个命令。</p>
<h4 id="ip-route"><a href="#ip-route" class="headerlink" title="ip route"></a>ip route</h4><p>查看默认路由表（main）路由</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shenjy@DESKTOP-MCQT724:~$ ip route</span><br></pre></td></tr></table></figure>

<p>大家也可以参照<a target="_blank" rel="noopener" href="https://blog.csdn.net/zhongmushu/article/details/108220232">这篇 Blog</a> 学习这个命令。</p>
<h4 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h4><p>查看网络链路是否通</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shenjy@DESKTOP-MCQT724:~$ ping www.baidu.com</span><br><span class="line">shenjy@DESKTOP-MCQT724:~$ ping localhost</span><br><span class="line">shenjy@DESKTOP-MCQT724:~$ ping 127.0.0.1</span><br></pre></td></tr></table></figure>

<p>大家也可以参照<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/ping-command-in-linux-with-examples/">这篇 Blog</a> 学习这个命令。</p>
<h4 id="traceroute"><a href="#traceroute" class="headerlink" title="traceroute"></a>traceroute</h4><p>追踪网络数据包的路由途径，也可以顺道学习下 <code>tracert</code> 这个命令</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shenjy@DESKTOP-MCQT724:~$ traceroute www.baidu.com</span><br></pre></td></tr></table></figure>

<p>大家也可以参照<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/traceroute-command-in-linux-with-examples/">这篇 Blog</a> 学习这个命令。</p>
<h4 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h4><p>Print network connections, routing tables, interface statistics, masquerade connections, and multicast member‐<br>ships</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">shenjy@DESKTOP-MCQT724:~$ netstat -i</span><br><span class="line">Kernel Interface table</span><br><span class="line">Iface      MTU    RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg</span><br><span class="line">eth0      1500        0      0      0 0             0      0      0      0 BMRU</span><br><span class="line">eth1      1500        0      0      0 0             0      0      0      0 BMRU</span><br><span class="line">eth3      1500        0      0      0 0             0      0      0      0 BMRU</span><br><span class="line">lo        1500        0      0      0 0             0      0      0      0 LRU</span><br></pre></td></tr></table></figure>

<p>大家也可以参照<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/netstat-command-linux/">这篇 Blog</a> 学习这个命令。</p>
<h4 id="nslookup"><a href="#nslookup" class="headerlink" title="nslookup"></a>nslookup</h4><p>Nslookup is a program to query Internet domain name servers. Nslookup has two modes: interactive and non-interactive.<br>Interactive mode allows the user to query name servers for information about various hosts and domains or to print a list<br>of hosts in a domain. Non-interactive mode is used to print just the name and requested information for a host or domain.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">shenjy@DESKTOP-MCQT724:~$ nslookup baidu.com</span><br><span class="line">Server:         8.8.8.8</span><br><span class="line">Address:        8.8.8.8#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:   baidu.com</span><br><span class="line">Address: 39.156.66.10</span><br></pre></td></tr></table></figure>

<p>大家也可以参照<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/nslookup-command-in-linux-with-examples/">这篇 Blog</a> 学习这个命令。</p>
<h3 id="防火墙相关"><a href="#防火墙相关" class="headerlink" title="防火墙相关"></a>防火墙相关</h3><h4 id="firewall-cmd"><a href="#firewall-cmd" class="headerlink" title="firewall-cmd"></a>firewall-cmd</h4><ul>
<li>安装 <code>firewalld</code> 软件</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install firewalld</span><br></pre></td></tr></table></figure>

<ul>
<li>查看防火墙状态</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --state</span><br></pre></td></tr></table></figure>

<ul>
<li>查看开放了哪些端口</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --list-ports</span><br></pre></td></tr></table></figure>

<ul>
<li>开放端口</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br></pre></td></tr></table></figure>

<ul>
<li>关闭开放端口</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --remove-port=80/tcp --permanent</span><br></pre></td></tr></table></figure>

<ul>
<li>重启防火墙</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>

<ul>
<li>停止防火墙</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure>

<ul>
<li>启动/关闭开机启动功能</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span>/disable firewalld.service</span><br></pre></td></tr></table></figure>

<h4 id="iptables"><a href="#iptables" class="headerlink" title="iptables"></a>iptables</h4><ul>
<li>查看防火墙规则</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -L -n -v</span><br></pre></td></tr></table></figure>

<ul>
<li>查看开放了哪些端口</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看接受规则</span></span><br><span class="line">iptables -L INPUT -n -v</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看正在监听的端口</span></span><br><span class="line">netstat -tuln</span><br><span class="line">ss -tuln</span><br></pre></td></tr></table></figure>

<ul>
<li>开放端口</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 开放 TCP 端口 80</span></span><br><span class="line">iptables -A INPUT -p tcp --dport 80 -j ACCEPT</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开放 UPD 端口</span></span><br><span class="line">iptables -A INPUT -p udp --dport 53 -j ACCEPT</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开放端口并限定源IP</span></span><br><span class="line">iptables -A INPUT -p tcp -s 192.168.1.0/24 --dport 22 -j ACCEPT</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：使用 iptables 命令添加的规则默认是临时的，系统重启后会丢失。</p>
<p>要使规则永久生效，需要将规则保存到配置文件中（不同的 Linux 发行版有不同的保存工具和方法，例如 iptables-save &gt; /etc/sysconfig/iptables 或使用 iptables-persistent 包）。</p>
</blockquote>
<ul>
<li>关闭开放端口</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看规则编号</span></span><br><span class="line">iptables -L INPUT -n --line-numbers</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除指定规则</span></span><br><span class="line">iptables -D INPUT &lt;number&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>重启防火墙</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart iptables</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">service iptables restart</span><br></pre></td></tr></table></figure>

<ul>
<li>停止防火墙</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop iptables</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">service iptables stop</span><br></pre></td></tr></table></figure>

<ul>
<li>启动/关闭开机启动功能</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span>/disable iptables</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">chkconfig iptables on/off</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">update-rc.d iptables <span class="built_in">enable</span>/disable</span><br></pre></td></tr></table></figure>

<h3 id="查看系统信息"><a href="#查看系统信息" class="headerlink" title="查看系统信息"></a>查看系统信息</h3><ul>
<li>查看系统信息脚本 <code>sysinfo.sh</code>, 使用 <code>chmod +x sysinfo.sh</code> 给脚本添加可执行权限</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;====== Host / Distro ======&quot;</span></span><br><span class="line">hostnamectl</span><br><span class="line"><span class="built_in">echo</span>; <span class="built_in">echo</span> <span class="string">&quot;====== CPU ======&quot;</span></span><br><span class="line">lscpu | grep -E <span class="string">&#x27;Model name|Socket|Core|Thread&#x27;</span></span><br><span class="line"><span class="built_in">echo</span>; <span class="built_in">echo</span> <span class="string">&quot;====== Memory ======&quot;</span></span><br><span class="line">free -h</span><br><span class="line"><span class="built_in">echo</span>; <span class="built_in">echo</span> <span class="string">&quot;====== Disk ======&quot;</span></span><br><span class="line">lsblk -fp</span><br><span class="line"><span class="built_in">echo</span>; <span class="built_in">echo</span> <span class="string">&quot;====== Mount ======&quot;</span></span><br><span class="line"><span class="built_in">df</span> -hT | grep -E <span class="string">&#x27;^/dev&#x27;</span></span><br><span class="line"><span class="built_in">echo</span>; <span class="built_in">echo</span> <span class="string">&quot;====== Network ======&quot;</span></span><br><span class="line">ip -br addr</span><br><span class="line"><span class="built_in">echo</span>; <span class="built_in">echo</span> <span class="string">&quot;====== Listen Ports ======&quot;</span></span><br><span class="line">ss -tunlp | grep LISTEN</span><br><span class="line"><span class="built_in">echo</span>; <span class="built_in">echo</span> <span class="string">&quot;====== Failed Services ======&quot;</span></span><br><span class="line">systemctl list-units --failed</span><br></pre></td></tr></table></figure>

<p>我来为您整理Linux常用命令，按功能分类：</p>
<h3 id="📁-文件和目录操作"><a href="#📁-文件和目录操作" class="headerlink" title="📁 文件和目录操作"></a>📁 文件和目录操作</h3><ul>
<li><strong>ls</strong> - 列出目录内容</li>
<li><strong>cd</strong> - 切换目录</li>
<li><strong>pwd</strong> - 显示当前目录</li>
<li><strong>mkdir</strong> - 创建目录</li>
<li><strong>rmdir</strong> - 删除空目录</li>
<li><strong>rm</strong> - 删除文件或目录</li>
<li><strong>cp</strong> - 复制文件或目录</li>
<li><strong>mv</strong> - 移动或重命名文件</li>
<li><strong>touch</strong> - 创建空文件或更新时间戳</li>
<li><strong>find</strong> - 查找文件</li>
<li><strong>tree</strong> - 以树状图显示目录结构</li>
</ul>
<h3 id="📄-文件查看和编辑"><a href="#📄-文件查看和编辑" class="headerlink" title="📄 文件查看和编辑"></a>📄 文件查看和编辑</h3><ul>
<li><strong>cat</strong> - 查看文件内容</li>
<li><strong>less/more</strong> - 分页查看文件</li>
<li><strong>head</strong> - 查看文件开头</li>
<li><strong>tail</strong> - 查看文件末尾</li>
<li><strong>vi/vim</strong> - 文本编辑器</li>
<li><strong>nano</strong> - 简单文本编辑器</li>
<li><strong>grep</strong> - 搜索文本内容</li>
<li><strong>sed</strong> - 流编辑器</li>
<li><strong>awk</strong> - 文本处理工具</li>
</ul>
<h3 id="🔐-权限管理"><a href="#🔐-权限管理" class="headerlink" title="🔐 权限管理"></a>🔐 权限管理</h3><ul>
<li><strong>chmod</strong> - 修改文件权限</li>
<li><strong>chown</strong> - 修改文件所有者</li>
<li><strong>chgrp</strong> - 修改文件所属组</li>
<li><strong>umask</strong> - 设置默认权限</li>
</ul>
<h3 id="👤-用户和组管理"><a href="#👤-用户和组管理" class="headerlink" title="👤 用户和组管理"></a>👤 用户和组管理</h3><ul>
<li><strong>useradd</strong> - 添加用户</li>
<li><strong>userdel</strong> - 删除用户</li>
<li><strong>passwd</strong> - 修改密码</li>
<li><strong>su</strong> - 切换用户</li>
<li><strong>sudo</strong> - 以管理员权限执行命令</li>
<li><strong>whoami</strong> - 显示当前用户</li>
<li><strong>id</strong> - 显示用户ID信息</li>
</ul>
<h3 id="💻-系统信息和监控"><a href="#💻-系统信息和监控" class="headerlink" title="💻 系统信息和监控"></a>💻 系统信息和监控</h3><ul>
<li><strong>top/htop</strong> - 实时显示进程状态</li>
<li><strong>ps</strong> - 查看进程</li>
<li><strong>df</strong> - 查看磁盘使用情况</li>
<li><strong>du</strong> - 查看目录大小</li>
<li><strong>free</strong> - 查看内存使用情况</li>
<li><strong>uname</strong> - 显示系统信息</li>
<li><strong>uptime</strong> - 系统运行时间</li>
<li><strong>dmesg</strong> - 查看系统日志</li>
<li><strong>lscpu</strong> - 显示CPU信息</li>
<li><strong>lsblk</strong> - 列出块设备</li>
</ul>
<h3 id="🔄-进程管理"><a href="#🔄-进程管理" class="headerlink" title="🔄 进程管理"></a>🔄 进程管理</h3><ul>
<li><strong>kill</strong> - 终止进程</li>
<li><strong>killall</strong> - 按名称终止进程</li>
<li><strong>pkill</strong> - 按模式终止进程</li>
<li><strong>bg</strong> - 后台运行任务</li>
<li><strong>fg</strong> - 前台运行任务</li>
<li><strong>jobs</strong> - 查看后台任务</li>
<li><strong>nohup</strong> - 不挂断运行命令</li>
</ul>
<h3 id="🌐-网络相关"><a href="#🌐-网络相关" class="headerlink" title="🌐 网络相关"></a>🌐 网络相关</h3><ul>
<li><strong>ping</strong> - 测试网络连通性</li>
<li><strong>ifconfig/ip</strong> - 配置网络接口</li>
<li><strong>netstat</strong> - 网络状态</li>
<li><strong>ss</strong> - 查看socket状态</li>
<li><strong>curl</strong> - 传输数据</li>
<li><strong>wget</strong> - 下载文件</li>
<li><strong>ssh</strong> - 远程登录</li>
<li><strong>scp</strong> - 远程复制文件</li>
<li><strong>nslookup/dig</strong> - DNS查询</li>
</ul>
<h3 id="📦-软件包管理"><a href="#📦-软件包管理" class="headerlink" title="📦 软件包管理"></a>📦 软件包管理</h3><ul>
<li><strong>apt/apt-get</strong> - Debian/Ubuntu包管理</li>
<li><strong>yum/dnf</strong> - RedHat/CentOS包管理</li>
<li><strong>rpm</strong> - RPM包管理</li>
<li><strong>dpkg</strong> - Debian包管理</li>
<li><strong>snap</strong> - Snap包管理</li>
</ul>
<h3 id="🗜️-压缩和解压"><a href="#🗜️-压缩和解压" class="headerlink" title="🗜️ 压缩和解压"></a>🗜️ 压缩和解压</h3><ul>
<li><strong>tar</strong> - 打包/解包</li>
<li><strong>gzip/gunzip</strong> - gzip压缩/解压</li>
<li><strong>zip/unzip</strong> - zip压缩/解压</li>
<li><strong>bzip2/bunzip2</strong> - bzip2压缩/解压</li>
</ul>
<h3 id="🔍-系统管理"><a href="#🔍-系统管理" class="headerlink" title="🔍 系统管理"></a>🔍 系统管理</h3><ul>
<li><strong>systemctl</strong> - 管理系统服务（systemd）</li>
<li><strong>service</strong> - 管理服务（传统）</li>
<li><strong>cron/crontab</strong> - 定时任务</li>
<li><strong>shutdown/reboot</strong> - 关机/重启</li>
<li><strong>mount/umount</strong> - 挂载/卸载文件系统</li>
</ul>
<h3 id="📝-其他常用命令"><a href="#📝-其他常用命令" class="headerlink" title="📝 其他常用命令"></a>📝 其他常用命令</h3><ul>
<li><strong>echo</strong> - 输出文本</li>
<li><strong>clear</strong> - 清屏</li>
<li><strong>history</strong> - 查看命令历史</li>
<li><strong>date</strong> - 显示/设置日期时间</li>
<li><strong>man</strong> - 查看命令手册</li>
<li><strong>which</strong> - 查找命令位置</li>
<li><strong>ln</strong> - 创建链接</li>
<li><strong>wc</strong> - 统计字数行数</li>
<li><strong>sort</strong> - 排序</li>
<li><strong>uniq</strong> - 去重</li>
</ul>
<p>这些是Linux系统中最常用的命令。建议您从基础的文件操作命令开始学习，逐步掌握其他类别的命令。使用 <code>man 命令名</code> 可以查看每个命令的详细使用说明。</p>
<h2 id="📊-综合性能监控"><a href="#📊-综合性能监控" class="headerlink" title="📊 综合性能监控"></a>📊 综合性能监控</h2><h3 id="top-htop"><a href="#top-htop" class="headerlink" title="top / htop"></a>top / htop</h3><ul>
<li><strong>top</strong> - 实时显示系统整体状态和进程信息<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">top              <span class="comment"># 基础使用</span></span><br><span class="line">top -u username  <span class="comment"># 查看特定用户进程</span></span><br><span class="line">top -p PID       <span class="comment"># 监控特定进程</span></span><br></pre></td></tr></table></figure></li>
<li><strong>htop</strong> - top的增强版，更直观（需安装）<ul>
<li>支持鼠标操作</li>
<li>彩色显示</li>
<li>更友好的界面</li>
</ul>
</li>
</ul>
<h3 id="atop"><a href="#atop" class="headerlink" title="atop"></a>atop</h3><ul>
<li>全面的系统性能监控工具</li>
<li>记录历史数据，可回溯分析</li>
<li>同时监控CPU、内存、磁盘、网络</li>
</ul>
<h3 id="glances"><a href="#glances" class="headerlink" title="glances"></a>glances</h3><ul>
<li>跨平台监控工具</li>
<li>自动高亮显示瓶颈</li>
<li>支持Web界面</li>
</ul>
<hr>
<h2 id="💻-CPU性能分析"><a href="#💻-CPU性能分析" class="headerlink" title="💻 CPU性能分析"></a>💻 CPU性能分析</h2><h3 id="mpstat"><a href="#mpstat" class="headerlink" title="mpstat"></a>mpstat</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mpstat           <span class="comment"># 显示所有CPU统计信息</span></span><br><span class="line">mpstat -P ALL 1  <span class="comment"># 每秒显示每个CPU核心状态</span></span><br></pre></td></tr></table></figure>

<h3 id="vmstat"><a href="#vmstat" class="headerlink" title="vmstat"></a>vmstat</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vmstat 1 10      <span class="comment"># 每秒输出一次，共10次</span></span><br><span class="line"><span class="comment"># 关注：</span></span><br><span class="line"><span class="comment"># - r: 运行队列长度（&gt;CPU核心数表示过载）</span></span><br><span class="line"><span class="comment"># - us: 用户态CPU使用率</span></span><br><span class="line"><span class="comment"># - sy: 内核态CPU使用率</span></span><br><span class="line"><span class="comment"># - id: 空闲CPU</span></span><br><span class="line"><span class="comment"># - wa: IO等待</span></span><br></pre></td></tr></table></figure>

<h3 id="sar"><a href="#sar" class="headerlink" title="sar"></a>sar</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sar -u 1 10      <span class="comment"># CPU使用率</span></span><br><span class="line">sar -q 1 10      <span class="comment"># 队列长度和负载</span></span><br><span class="line">sar -P ALL 1 10  <span class="comment"># 每个CPU的统计</span></span><br></pre></td></tr></table></figure>

<h3 id="uptime"><a href="#uptime" class="headerlink" title="uptime"></a>uptime</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uptime</span>           <span class="comment"># 显示系统负载（1分钟、5分钟、15分钟平均值）</span></span><br></pre></td></tr></table></figure>

<h3 id="pidstat"><a href="#pidstat" class="headerlink" title="pidstat"></a>pidstat</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pidstat 1        <span class="comment"># 每秒显示进程CPU使用情况</span></span><br><span class="line">pidstat -p PID 1 <span class="comment"># 监控特定进程</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="🧠-内存性能分析"><a href="#🧠-内存性能分析" class="headerlink" title="🧠 内存性能分析"></a>🧠 内存性能分析</h2><h3 id="free"><a href="#free" class="headerlink" title="free"></a>free</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">free -h          <span class="comment"># 以人类可读格式显示内存</span></span><br><span class="line">free -m          <span class="comment"># 以MB为单位</span></span><br><span class="line">free -s 1        <span class="comment"># 每秒刷新</span></span><br></pre></td></tr></table></figure>

<h3 id="vmstat-1"><a href="#vmstat-1" class="headerlink" title="vmstat"></a>vmstat</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vmstat -s        <span class="comment"># 内存统计摘要</span></span><br><span class="line">vmstat -a        <span class="comment"># 显示活跃/非活跃内存</span></span><br><span class="line"><span class="comment"># 关注：</span></span><br><span class="line"><span class="comment"># - swpd: 使用的swap</span></span><br><span class="line"><span class="comment"># - free: 空闲内存</span></span><br><span class="line"><span class="comment"># - buff: 缓冲区内存</span></span><br><span class="line"><span class="comment"># - cache: 缓存内存</span></span><br></pre></td></tr></table></figure>

<h3 id="sar-1"><a href="#sar-1" class="headerlink" title="sar"></a>sar</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sar -r 1 10      <span class="comment"># 内存使用率</span></span><br><span class="line">sar -B 1 10      <span class="comment"># 分页统计</span></span><br><span class="line">sar -W 1 10      <span class="comment"># swap统计</span></span><br></pre></td></tr></table></figure>

<h3 id="slabtop"><a href="#slabtop" class="headerlink" title="slabtop"></a>slabtop</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slabtop          <span class="comment"># 实时显示内核slab缓存信息</span></span><br></pre></td></tr></table></figure>

<h3 id="pmap"><a href="#pmap" class="headerlink" title="pmap"></a>pmap</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pmap -x PID      <span class="comment"># 查看进程内存映射</span></span><br></pre></td></tr></table></figure>

<h3 id="smem"><a href="#smem" class="headerlink" title="smem"></a>smem</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smem -r -s pss   <span class="comment"># 按实际物理内存排序（需安装）</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="💾-磁盘I-O性能分析"><a href="#💾-磁盘I-O性能分析" class="headerlink" title="💾 磁盘I/O性能分析"></a>💾 磁盘I/O性能分析</h2><h3 id="iostat"><a href="#iostat" class="headerlink" title="iostat"></a>iostat</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">iostat -x 1      <span class="comment"># 每秒显示详细磁盘统计</span></span><br><span class="line">iostat -d 1      <span class="comment"># 只显示设备统计</span></span><br><span class="line"><span class="comment"># 关键指标：</span></span><br><span class="line"><span class="comment"># - %util: 磁盘使用率（接近100%表示饱和）</span></span><br><span class="line"><span class="comment"># - await: 平均等待时间</span></span><br><span class="line"><span class="comment"># - svctm: 平均服务时间</span></span><br><span class="line"><span class="comment"># - r/s, w/s: 每秒读写次数</span></span><br></pre></td></tr></table></figure>

<h3 id="iotop"><a href="#iotop" class="headerlink" title="iotop"></a>iotop</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iotop            <span class="comment"># 实时显示进程I/O使用情况（需root）</span></span><br><span class="line">iotop -o         <span class="comment"># 只显示有I/O活动的进程</span></span><br></pre></td></tr></table></figure>

<h3 id="df"><a href="#df" class="headerlink" title="df"></a>df</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span> -h            <span class="comment"># 查看磁盘空间使用</span></span><br><span class="line"><span class="built_in">df</span> -i            <span class="comment"># 查看inode使用情况</span></span><br></pre></td></tr></table></figure>

<h3 id="du"><a href="#du" class="headerlink" title="du"></a>du</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">du</span> -sh *         <span class="comment"># 显示当前目录各文件/目录大小</span></span><br><span class="line"><span class="built_in">du</span> -h --max-depth=1  <span class="comment"># 只显示一级目录</span></span><br></pre></td></tr></table></figure>

<h3 id="lsof"><a href="#lsof" class="headerlink" title="lsof"></a>lsof</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lsof /path       <span class="comment"># 查看哪些进程在使用某个文件/目录</span></span><br><span class="line">lsof -p PID      <span class="comment"># 查看进程打开的文件</span></span><br><span class="line">lsof | grep deleted  <span class="comment"># 查找已删除但仍被占用的文件</span></span><br></pre></td></tr></table></figure>

<h3 id="fio"><a href="#fio" class="headerlink" title="fio"></a>fio</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fio --name=<span class="built_in">test</span> --rw=randread --bs=4k --size=1G  <span class="comment"># I/O性能测试</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="🌐-网络性能分析"><a href="#🌐-网络性能分析" class="headerlink" title="🌐 网络性能分析"></a>🌐 网络性能分析</h2><h3 id="netstat-1"><a href="#netstat-1" class="headerlink" title="netstat"></a>netstat</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">netstat -tupln   <span class="comment"># 查看监听端口和连接</span></span><br><span class="line">netstat -s       <span class="comment"># 网络统计信息</span></span><br><span class="line">netstat -i       <span class="comment"># 网络接口统计</span></span><br></pre></td></tr></table></figure>

<h3 id="ss"><a href="#ss" class="headerlink" title="ss"></a>ss</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ss -tupln        <span class="comment"># 更快的netstat替代品</span></span><br><span class="line">ss -s            <span class="comment"># 统计摘要</span></span><br><span class="line">ss -o state established  <span class="comment"># 查看已建立的连接</span></span><br></pre></td></tr></table></figure>

<h3 id="iftop"><a href="#iftop" class="headerlink" title="iftop"></a>iftop</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iftop -i eth0    <span class="comment"># 实时网络流量监控（需安装）</span></span><br></pre></td></tr></table></figure>

<h3 id="iptraf-iptraf-ng"><a href="#iptraf-iptraf-ng" class="headerlink" title="iptraf / iptraf-ng"></a>iptraf / iptraf-ng</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptraf-ng        <span class="comment"># 交互式网络监控工具</span></span><br></pre></td></tr></table></figure>

<h3 id="nethogs"><a href="#nethogs" class="headerlink" title="nethogs"></a>nethogs</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nethogs eth0     <span class="comment"># 按进程显示网络带宽使用</span></span><br></pre></td></tr></table></figure>

<h3 id="tcpdump"><a href="#tcpdump" class="headerlink" title="tcpdump"></a>tcpdump</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tcpdump -i eth0  <span class="comment"># 抓包分析</span></span><br><span class="line">tcpdump -i eth0 port 80  <span class="comment"># 抓取80端口的包</span></span><br></pre></td></tr></table></figure>

<h3 id="ping-mtr"><a href="#ping-mtr" class="headerlink" title="ping / mtr"></a>ping / mtr</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping example.com     <span class="comment"># 测试连通性和延迟</span></span><br><span class="line">mtr example.com      <span class="comment"># 结合ping和traceroute</span></span><br></pre></td></tr></table></figure>

<h3 id="ethtool"><a href="#ethtool" class="headerlink" title="ethtool"></a>ethtool</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ethtool eth0         <span class="comment"># 查看网卡信息和统计</span></span><br><span class="line">ethtool -S eth0      <span class="comment"># 网卡详细统计</span></span><br></pre></td></tr></table></figure>

<h3 id="sar-2"><a href="#sar-2" class="headerlink" title="sar"></a>sar</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sar -n DEV 1 10      <span class="comment"># 网络接口统计</span></span><br><span class="line">sar -n TCP 1 10      <span class="comment"># TCP统计</span></span><br><span class="line">sar -n SOCK 1 10     <span class="comment"># socket统计</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="🔍-进程性能分析"><a href="#🔍-进程性能分析" class="headerlink" title="🔍 进程性能分析"></a>🔍 进程性能分析</h2><h3 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ps aux           <span class="comment"># 显示所有进程</span></span><br><span class="line">ps -ef           <span class="comment"># 另一种格式</span></span><br><span class="line">ps -eo pid,ppid,cmd,%mem,%cpu --<span class="built_in">sort</span>=-%cpu  <span class="comment"># 按CPU排序</span></span><br></pre></td></tr></table></figure>

<h3 id="pstree"><a href="#pstree" class="headerlink" title="pstree"></a>pstree</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pstree -p        <span class="comment"># 显示进程树及PID</span></span><br></pre></td></tr></table></figure>

<h3 id="pidstat-1"><a href="#pidstat-1" class="headerlink" title="pidstat"></a>pidstat</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pidstat -d 1     <span class="comment"># 磁盘I/O统计</span></span><br><span class="line">pidstat -r 1     <span class="comment"># 内存统计</span></span><br><span class="line">pidstat -u 1     <span class="comment"># CPU统计</span></span><br></pre></td></tr></table></figure>

<h3 id="strace"><a href="#strace" class="headerlink" title="strace"></a>strace</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">strace -p PID    <span class="comment"># 跟踪进程系统调用</span></span><br><span class="line">strace -c -p PID <span class="comment"># 统计系统调用</span></span><br><span class="line">strace ./program <span class="comment"># 跟踪程序执行</span></span><br></pre></td></tr></table></figure>

<h3 id="ltrace"><a href="#ltrace" class="headerlink" title="ltrace"></a>ltrace</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ltrace -p PID    <span class="comment"># 跟踪库函数调用</span></span><br></pre></td></tr></table></figure>

<h3 id="perf"><a href="#perf" class="headerlink" title="perf"></a>perf</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">perf top         <span class="comment"># 实时性能分析</span></span><br><span class="line">perf <span class="built_in">stat</span> ./program  <span class="comment"># 程序性能统计</span></span><br><span class="line">perf record -g -p PID  <span class="comment"># 记录性能数据</span></span><br><span class="line">perf report      <span class="comment"># 查看性能报告</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="🔥-火焰图和高级分析"><a href="#🔥-火焰图和高级分析" class="headerlink" title="🔥 火焰图和高级分析"></a>🔥 火焰图和高级分析</h2><h3 id="perf-FlameGraph"><a href="#perf-FlameGraph" class="headerlink" title="perf + FlameGraph"></a>perf + FlameGraph</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成CPU火焰图</span></span><br><span class="line">perf record -F 99 -a -g -- <span class="built_in">sleep</span> 60</span><br><span class="line">perf script | ./stackcollapse-perf.pl | ./flamegraph.pl &gt; cpu.svg</span><br></pre></td></tr></table></figure>

<h3 id="bpftrace-bcc-tools"><a href="#bpftrace-bcc-tools" class="headerlink" title="bpftrace / bcc-tools"></a>bpftrace / bcc-tools</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># eBPF性能分析工具</span></span><br><span class="line">opensnoop        <span class="comment"># 跟踪文件打开</span></span><br><span class="line">execsnoop        <span class="comment"># 跟踪进程执行</span></span><br><span class="line">biolatency       <span class="comment"># 块I/O延迟分布</span></span><br><span class="line">tcplife          <span class="comment"># TCP连接生命周期</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="📈-系统日志和诊断"><a href="#📈-系统日志和诊断" class="headerlink" title="📈 系统日志和诊断"></a>📈 系统日志和诊断</h2><h3 id="dmesg"><a href="#dmesg" class="headerlink" title="dmesg"></a>dmesg</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dmesg            <span class="comment"># 查看内核日志</span></span><br><span class="line">dmesg -T         <span class="comment"># 显示可读时间戳</span></span><br><span class="line">dmesg | grep -i error  <span class="comment"># 查找错误信息</span></span><br></pre></td></tr></table></figure>

<h3 id="journalctl"><a href="#journalctl" class="headerlink" title="journalctl"></a>journalctl</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">journalctl -f    <span class="comment"># 实时查看系统日志</span></span><br><span class="line">journalctl -u service  <span class="comment"># 查看特定服务日志</span></span><br><span class="line">journalctl --since <span class="string">&quot;1 hour ago&quot;</span>  <span class="comment"># 查看最近1小时日志</span></span><br></pre></td></tr></table></figure>

<h3 id="sysstat包"><a href="#sysstat包" class="headerlink" title="sysstat包"></a>sysstat包</h3><ul>
<li>sar - 系统活动报告</li>
<li>iostat - I/O统计</li>
<li>mpstat - CPU统计</li>
<li>pidstat - 进程统计</li>
<li>sadf - 数据格式化工具</li>
</ul>
<hr>
<h2 id="🛠️-专项性能工具"><a href="#🛠️-专项性能工具" class="headerlink" title="🛠️ 专项性能工具"></a>🛠️ 专项性能工具</h2><h3 id="CPU相关"><a href="#CPU相关" class="headerlink" title="CPU相关"></a><strong>CPU相关</strong></h3><ul>
<li><code>lscpu</code> - CPU架构信息</li>
<li><code>turbostat</code> - CPU频率和功耗</li>
<li><code>cpupower</code> - CPU频率管理</li>
</ul>
<h3 id="内存相关"><a href="#内存相关" class="headerlink" title="内存相关"></a><strong>内存相关</strong></h3><ul>
<li><code>numactl</code> - NUMA策略</li>
<li><code>numastat</code> - NUMA统计</li>
<li><code>pcstat</code> - 页缓存统计</li>
</ul>
<h3 id="磁盘相关"><a href="#磁盘相关" class="headerlink" title="磁盘相关"></a><strong>磁盘相关</strong></h3><ul>
<li><code>hdparm</code> - 硬盘参数</li>
<li><code>smartctl</code> - 硬盘健康状态</li>
<li><code>blktrace</code> - 块层I/O跟踪</li>
</ul>
<h3 id="网络相关"><a href="#网络相关" class="headerlink" title="网络相关"></a><strong>网络相关</strong></h3><ul>
<li><code>nload</code> - 网络流量实时监控</li>
<li><code>bmon</code> - 带宽监控</li>
<li><code>speedtest-cli</code> - 网速测试</li>
<li><code>iperf3</code> - 网络性能测试</li>
</ul>
<hr>
<h2 id="💡-性能分析方法论"><a href="#💡-性能分析方法论" class="headerlink" title="💡 性能分析方法论"></a>💡 性能分析方法论</h2><h3 id="USE方法（Utilization-Saturation-Errors）"><a href="#USE方法（Utilization-Saturation-Errors）" class="headerlink" title="USE方法（Utilization, Saturation, Errors）"></a>USE方法（Utilization, Saturation, Errors）</h3><p>针对每个资源检查：</p>
<ol>
<li><strong>使用率</strong>（Utilization）- 资源繁忙程度</li>
<li><strong>饱和度</strong>（Saturation）- 等待队列长度</li>
<li><strong>错误</strong>（Errors）- 错误计数</li>
</ol>
<h3 id="检查清单"><a href="#检查清单" class="headerlink" title="检查清单"></a>检查清单</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CPU</span></span><br><span class="line"><span class="built_in">uptime</span>                    <span class="comment"># 负载</span></span><br><span class="line">vmstat 1                  <span class="comment"># 运行队列</span></span><br><span class="line">mpstat -P ALL 1          <span class="comment"># 每核使用率</span></span><br><span class="line">pidstat 1                <span class="comment"># 进程CPU</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 内存</span></span><br><span class="line">free -m                   <span class="comment"># 可用内存</span></span><br><span class="line">vmstat 1                  <span class="comment"># si/so swap</span></span><br><span class="line">dmesg | grep -i oom      <span class="comment"># OOM killer</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 磁盘I/O</span></span><br><span class="line">iostat -x 1              <span class="comment"># %util, await</span></span><br><span class="line">iotop                    <span class="comment"># 进程I/O</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 网络</span></span><br><span class="line">sar -n DEV 1             <span class="comment"># 接口吞吐量</span></span><br><span class="line">sar -n TCP,ETCP 1        <span class="comment"># TCP统计</span></span><br><span class="line">netstat -s               <span class="comment"># 错误统计</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="📦-推荐安装的工具包"><a href="#📦-推荐安装的工具包" class="headerlink" title="📦 推荐安装的工具包"></a>📦 推荐安装的工具包</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CentOS/RHEL</span></span><br><span class="line">yum install sysstat iotop htop dstat nload iftop nethogs</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ubuntu/Debian  </span></span><br><span class="line">apt install sysstat iotop htop dstat nload iftop nethogs</span><br><span class="line"></span><br><span class="line"><span class="comment"># 高级工具</span></span><br><span class="line"><span class="comment"># bcc-tools (eBPF)</span></span><br><span class="line"><span class="comment"># perf</span></span><br><span class="line"><span class="comment"># glances</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="🎯-快速诊断流程"><a href="#🎯-快速诊断流程" class="headerlink" title="🎯 快速诊断流程"></a>🎯 快速诊断流程</h2><p>遇到性能问题时，建议按此顺序检查：</p>
<ol>
<li><strong>uptime</strong> - 快速查看系统负载</li>
<li><strong>dmesg | tail</strong> - 检查系统错误</li>
<li><strong>vmstat 1</strong> - 整体资源使用</li>
<li><strong>mpstat -P ALL 1</strong> - CPU瓶颈？</li>
<li><strong>pidstat 1</strong> - 哪个进程有问题？</li>
<li><strong>iostat -x 1</strong> - 磁盘瓶颈？</li>
<li><strong>free -m</strong> - 内存不足？</li>
<li><strong>sar -n DEV 1</strong> - 网络瓶颈？</li>
<li><strong>top</strong> - 深入查看</li>
</ol>
<p>这些工具组合使用，可以全面诊断和解决Linux系统的性能问题！</p>

  </div>
</article>


    <div class="blog-post-comments">
        <div id="utterances_thread">
            <noscript>加载评论需要在浏览器启用 JavaScript 脚本支持。</noscript>
        </div>
    </div>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/blog/">首页</a></li>
         
          <li><a href="/blog/about/">关于</a></li>
         
          <li><a href="/blog/archives/">归档</a></li>
         
          <li><a href="/blog/categories/">分类</a></li>
         
          <li><a href="/blog/search/">搜索</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/shenjy06">项目</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-%E5%91%BD%E4%BB%A4%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">Linux 命令学习方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.</span> <span class="toc-text">Linux 常用网络命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ifconfig"><span class="toc-number">1.1.1.</span> <span class="toc-text">ifconfig</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ifup"><span class="toc-number">1.1.2.</span> <span class="toc-text">ifup</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ifdown"><span class="toc-number">1.1.3.</span> <span class="toc-text">ifdown</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ip"><span class="toc-number">1.1.4.</span> <span class="toc-text">ip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#route"><span class="toc-number">1.1.5.</span> <span class="toc-text">route</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ip-route"><span class="toc-number">1.1.6.</span> <span class="toc-text">ip route</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ping"><span class="toc-number">1.1.7.</span> <span class="toc-text">ping</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#traceroute"><span class="toc-number">1.1.8.</span> <span class="toc-text">traceroute</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#netstat"><span class="toc-number">1.1.9.</span> <span class="toc-text">netstat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nslookup"><span class="toc-number">1.1.10.</span> <span class="toc-text">nslookup</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E7%9B%B8%E5%85%B3"><span class="toc-number">1.2.</span> <span class="toc-text">防火墙相关</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#firewall-cmd"><span class="toc-number">1.2.1.</span> <span class="toc-text">firewall-cmd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#iptables"><span class="toc-number">1.2.2.</span> <span class="toc-text">iptables</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.</span> <span class="toc-text">查看系统信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%81-%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.</span> <span class="toc-text">📁 文件和目录操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%84-%E6%96%87%E4%BB%B6%E6%9F%A5%E7%9C%8B%E5%92%8C%E7%BC%96%E8%BE%91"><span class="toc-number">1.5.</span> <span class="toc-text">📄 文件查看和编辑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%90-%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">1.6.</span> <span class="toc-text">🔐 权限管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%A4-%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86"><span class="toc-number">1.7.</span> <span class="toc-text">👤 用户和组管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%BB-%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E5%92%8C%E7%9B%91%E6%8E%A7"><span class="toc-number">1.8.</span> <span class="toc-text">💻 系统信息和监控</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%84-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-number">1.9.</span> <span class="toc-text">🔄 进程管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8C%90-%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3"><span class="toc-number">1.10.</span> <span class="toc-text">🌐 网络相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%A6-%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number">1.11.</span> <span class="toc-text">📦 软件包管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%97%9C%EF%B8%8F-%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B"><span class="toc-number">1.12.</span> <span class="toc-text">🗜️ 压缩和解压</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%8D-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="toc-number">1.13.</span> <span class="toc-text">🔍 系统管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%9D-%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.14.</span> <span class="toc-text">📝 其他常用命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%8A-%E7%BB%BC%E5%90%88%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7"><span class="toc-number">2.</span> <span class="toc-text">📊 综合性能监控</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#top-htop"><span class="toc-number">2.1.</span> <span class="toc-text">top &#x2F; htop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#atop"><span class="toc-number">2.2.</span> <span class="toc-text">atop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#glances"><span class="toc-number">2.3.</span> <span class="toc-text">glances</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%92%BB-CPU%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">3.</span> <span class="toc-text">💻 CPU性能分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mpstat"><span class="toc-number">3.1.</span> <span class="toc-text">mpstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vmstat"><span class="toc-number">3.2.</span> <span class="toc-text">vmstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sar"><span class="toc-number">3.3.</span> <span class="toc-text">sar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#uptime"><span class="toc-number">3.4.</span> <span class="toc-text">uptime</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pidstat"><span class="toc-number">3.5.</span> <span class="toc-text">pidstat</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%A7%A0-%E5%86%85%E5%AD%98%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">4.</span> <span class="toc-text">🧠 内存性能分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#free"><span class="toc-number">4.1.</span> <span class="toc-text">free</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vmstat-1"><span class="toc-number">4.2.</span> <span class="toc-text">vmstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sar-1"><span class="toc-number">4.3.</span> <span class="toc-text">sar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#slabtop"><span class="toc-number">4.4.</span> <span class="toc-text">slabtop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pmap"><span class="toc-number">4.5.</span> <span class="toc-text">pmap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#smem"><span class="toc-number">4.6.</span> <span class="toc-text">smem</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%92%BE-%E7%A3%81%E7%9B%98I-O%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">5.</span> <span class="toc-text">💾 磁盘I&#x2F;O性能分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#iostat"><span class="toc-number">5.1.</span> <span class="toc-text">iostat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iotop"><span class="toc-number">5.2.</span> <span class="toc-text">iotop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#df"><span class="toc-number">5.3.</span> <span class="toc-text">df</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#du"><span class="toc-number">5.4.</span> <span class="toc-text">du</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lsof"><span class="toc-number">5.5.</span> <span class="toc-text">lsof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fio"><span class="toc-number">5.6.</span> <span class="toc-text">fio</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%90-%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">6.</span> <span class="toc-text">🌐 网络性能分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#netstat-1"><span class="toc-number">6.1.</span> <span class="toc-text">netstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ss"><span class="toc-number">6.2.</span> <span class="toc-text">ss</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iftop"><span class="toc-number">6.3.</span> <span class="toc-text">iftop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iptraf-iptraf-ng"><span class="toc-number">6.4.</span> <span class="toc-text">iptraf &#x2F; iptraf-ng</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nethogs"><span class="toc-number">6.5.</span> <span class="toc-text">nethogs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcpdump"><span class="toc-number">6.6.</span> <span class="toc-text">tcpdump</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ping-mtr"><span class="toc-number">6.7.</span> <span class="toc-text">ping &#x2F; mtr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ethtool"><span class="toc-number">6.8.</span> <span class="toc-text">ethtool</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sar-2"><span class="toc-number">6.9.</span> <span class="toc-text">sar</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%8D-%E8%BF%9B%E7%A8%8B%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">7.</span> <span class="toc-text">🔍 进程性能分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ps"><span class="toc-number">7.1.</span> <span class="toc-text">ps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pstree"><span class="toc-number">7.2.</span> <span class="toc-text">pstree</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pidstat-1"><span class="toc-number">7.3.</span> <span class="toc-text">pidstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#strace"><span class="toc-number">7.4.</span> <span class="toc-text">strace</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ltrace"><span class="toc-number">7.5.</span> <span class="toc-text">ltrace</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#perf"><span class="toc-number">7.6.</span> <span class="toc-text">perf</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A5-%E7%81%AB%E7%84%B0%E5%9B%BE%E5%92%8C%E9%AB%98%E7%BA%A7%E5%88%86%E6%9E%90"><span class="toc-number">8.</span> <span class="toc-text">🔥 火焰图和高级分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#perf-FlameGraph"><span class="toc-number">8.1.</span> <span class="toc-text">perf + FlameGraph</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bpftrace-bcc-tools"><span class="toc-number">8.2.</span> <span class="toc-text">bpftrace &#x2F; bcc-tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%88-%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97%E5%92%8C%E8%AF%8A%E6%96%AD"><span class="toc-number">9.</span> <span class="toc-text">📈 系统日志和诊断</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#dmesg"><span class="toc-number">9.1.</span> <span class="toc-text">dmesg</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#journalctl"><span class="toc-number">9.2.</span> <span class="toc-text">journalctl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sysstat%E5%8C%85"><span class="toc-number">9.3.</span> <span class="toc-text">sysstat包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%9B%A0%EF%B8%8F-%E4%B8%93%E9%A1%B9%E6%80%A7%E8%83%BD%E5%B7%A5%E5%85%B7"><span class="toc-number">10.</span> <span class="toc-text">🛠️ 专项性能工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CPU%E7%9B%B8%E5%85%B3"><span class="toc-number">10.1.</span> <span class="toc-text">CPU相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%9B%B8%E5%85%B3"><span class="toc-number">10.2.</span> <span class="toc-text">内存相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%9B%B8%E5%85%B3"><span class="toc-number">10.3.</span> <span class="toc-text">磁盘相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3"><span class="toc-number">10.4.</span> <span class="toc-text">网络相关</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%92%A1-%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E8%AE%BA"><span class="toc-number">11.</span> <span class="toc-text">💡 性能分析方法论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#USE%E6%96%B9%E6%B3%95%EF%BC%88Utilization-Saturation-Errors%EF%BC%89"><span class="toc-number">11.1.</span> <span class="toc-text">USE方法（Utilization, Saturation, Errors）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95"><span class="toc-number">11.2.</span> <span class="toc-text">检查清单</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%A6-%E6%8E%A8%E8%8D%90%E5%AE%89%E8%A3%85%E7%9A%84%E5%B7%A5%E5%85%B7%E5%8C%85"><span class="toc-number">12.</span> <span class="toc-text">📦 推荐安装的工具包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8E%AF-%E5%BF%AB%E9%80%9F%E8%AF%8A%E6%96%AD%E6%B5%81%E7%A8%8B"><span class="toc-number">13.</span> <span class="toc-text">🎯 快速诊断流程</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&text=Linux常用命令"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&title=Linux常用命令"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&is_video=false&description=Linux常用命令"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Linux常用命令&body=Check out this article: https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&title=Linux常用命令"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&title=Linux常用命令"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&title=Linux常用命令"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&title=Linux常用命令"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&name=Linux常用命令&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://shenjy06.github.io/blog/2022/12/25/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4/&t=Linux常用命令"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;   2020-2025 Mark Shen
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       -->
        <li>
          <a href="/blog/"
            >首页</a
          >
        </li>
        <!--
     --><!--
       -->
        <li>
          <a href="/blog/about/"
            >关于</a
          >
        </li>
        <!--
     --><!--
       -->
        <li>
          <a href="/blog/archives/"
            >归档</a
          >
        </li>
        <!--
     --><!--
       -->
        <li>
          <a href="/blog/categories/"
            >分类</a
          >
        </li>
        <!--
     --><!--
       -->
        <li>
          <a href="/blog/search/"
            >搜索</a
          >
        </li>
        <!--
     --><!--
       -->
        <li>
          <a target="_blank" rel="noopener" href="https://github.com/shenjy06"
            >项目</a
          >
        </li>
        <!--
     -->
      </ul>
      <ul>
        <!-- Baidu Web Analytics -->
        <script>
          var _hmt = _hmt || []
          ;(function () {
            var hm = document.createElement('script')
            hm.src =
              'https://hm.baidu.com/hm.js?2bf556e2c4bfb436b933c9c12d4a0057'
            var s = document.getElementsByTagName('script')[0]
            s.parentNode.insertBefore(hm, s)
          })()
        </script>
        <!-- End Baidu Web Analytics -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/blog/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

  <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?2bf556e2c4bfb436b933c9c12d4a0057";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
        </script>

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

    <script type="text/javascript">
      var utterances_repo = 'shenjy06/blog';
      var utterances_issue_term = 'pathname';
      var utterances_label = 'Comment';
      var utterances_theme = 'github-light';

      (function(){
          var script = document.createElement('script');

          script.src = 'https://utteranc.es/client.js';
          script.setAttribute('repo', utterances_repo);
          script.setAttribute('issue-term', 'pathname');
          script.setAttribute('label', utterances_label);
          script.setAttribute('theme', utterances_theme);
          script.setAttribute('crossorigin', 'anonymous');
          script.async = true;
          (document.getElementById('utterances_thread')).appendChild(script);
      }());
  </script>

</body>
</html>
